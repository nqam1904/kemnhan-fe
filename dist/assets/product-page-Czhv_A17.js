import{f as y,a as I,g as N,r as P,j as s,h as a,Q as k,I as n,p,i as w,c as C,d as T,H as E}from"./index-Cisqq87o.js";import{r as l,f as v}from"./vendor-D10guwLI.js";import{f as M}from"./format-number-DeezL_hy.js";import{b as S}from"./index-BDLNoMlA.js";import{B as c}from"./Breadcrumb-Y0kPH6Q_.js";function F(){const t=y(),[e,r]=l.useState(null),d=I(),{id:j}=v(),o=l.useMemo(()=>j,[j]),{data:m,isFetching:h,isLoading:f}=N({id:o},{skip:!o});l.useEffect(()=>{!h&&m&&r(m)},[m,h]);const u=l.useMemo(()=>{var i,g;return e?P((g=(i=e.images)==null?void 0:i[0])==null?void 0:g.key):null},[e]),_=h||f||!e,x=()=>{const i={product:{id:o,name:e==null?void 0:e.name,image:u,price:e==null?void 0:e.sellPrice,description:e==null?void 0:e.description},quantity:1};t(w(i)),C.success("Thêm vào giỏ thành công!")},b=!!(e!=null&&e.shopeeUrl&&e.shopeeUrl.trim());return s.jsx(s.Fragment,{children:_?s.jsx("div",{className:"container-fluid",children:s.jsxs("div",{className:"page_product_detail",children:[s.jsx("div",{className:"product_img",children:s.jsx("div",{style:{width:"100%",height:320,background:"#e9ecef"}})}),s.jsxs("div",{className:"product_body",children:[s.jsxs("div",{className:"product_content",children:[s.jsx(a,{as:"p",animation:"glow",className:"content",children:s.jsx(a,{xs:6})}),s.jsx(a,{as:"p",animation:"glow",className:"content_price",children:s.jsx(a,{xs:4})}),s.jsxs(a,{as:"p",animation:"glow",className:"content_des",children:[s.jsx(a,{xs:8})," ",s.jsx(a,{xs:7})," ",s.jsx(a,{xs:6})]}),s.jsx("div",{className:"btn_mobile_cart",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:2})})})]}),s.jsxs("div",{className:"option_detail",children:[s.jsx("div",{className:"btn_buy",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})}),s.jsx("div",{className:"btn_buy",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})}),s.jsx("div",{className:"btn_shopee",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})})]})]})]})}):s.jsxs("div",{className:"container-fluid",children:[s.jsx(k,{autoClose:1e3}),s.jsxs(c,{children:[s.jsx(c.Item,{href:"/",children:"Trang chủ"}),s.jsx(c.Item,{href:"/",children:"Sản phẩm"}),s.jsx(c.Item,{active:!0,children:e==null?void 0:e.name})]}),s.jsxs("div",{className:"page_product_detail",children:[s.jsx("div",{className:"product_img",children:s.jsx(S.LazyLoadImage,{effect:"blur",src:u||n.logo,placeholderSrc:n.logo,alt:"product",onError:i=>{i!=null&&i.target&&(i.target.src=n.logo)}})}),s.jsxs("div",{className:"product_body",children:[s.jsxs("div",{className:"product_content",children:[s.jsxs("h1",{className:"product-title",children:[e==null?void 0:e.name,b&&s.jsx("span",{className:"shopee-inline",onClick:()=>d.push(e==null?void 0:e.shopeeUrl),role:"link","aria-label":"Mua trên Shopee",children:s.jsx("img",{src:n.shopee,alt:"shopee"})})]}),s.jsxs("p",{className:"content_price",children:[M((e==null?void 0:e.sellPrice)||0),"đ/",e==null?void 0:e.unit]}),s.jsx("div",{id:"btn_cart",onClick:()=>{x(),d.push(p.main.cart)},className:"btn_mobile_cart",children:s.jsx("p",{children:"Mua ngay"})})]}),s.jsxs("div",{className:"option_detail",children:[s.jsxs("div",{className:"btn_buy",onClick:()=>x(),children:[s.jsx("img",{src:n.icCart,width:35,alt:"add to cart",style:{marginRight:10}}),s.jsx("span",{children:"Thêm vào giỏ hàng"})]}),s.jsx("div",{className:"btn_buy",onClick:()=>{x(),d.push(p.main.cart)},children:s.jsx("span",{children:"Mua ngay"})})]}),s.jsx("p",{className:"content_des",style:{marginTop:16},children:e==null?void 0:e.description})]})]})]})})}function G(){const{id:t}=v(),{data:e}=N({id:t},{skip:!t}),r=`${(e==null?void 0:e.name)||"Product"} - ${T.appName}`;return s.jsxs(s.Fragment,{children:[s.jsx(E,{children:s.jsx("title",{children:r})}),s.jsx(F,{})]})}export{G as default};
