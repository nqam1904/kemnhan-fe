import{e as b,r,x as g,j as s,P as a,Q as y,y as n,z as P,v as w,w as C}from"./vendor-react-D439mYZB.js";import{a as I,c as v,r as k,I as i,p as j,d as T,C as E}from"./index-CCO37Pg2.js";import{f as M}from"./format-number-D7I21mwK.js";import"./vendor-misc-BkUckcGj.js";import"./vendor-redux-CY9rYXZh.js";import"./vendor-ui-qtF25uBn.js";import"./vendor-utils-DifT8CeW.js";function S(){const t=b(),[e,l]=r.useState(null),d=I(),{id:u}=g(),o=r.useMemo(()=>u,[u]),{data:m,isFetching:h,isLoading:N}=v({id:o},{skip:!o});r.useEffect(()=>{!h&&m&&l(m)},[m,h]);const p=r.useMemo(()=>e?k(e.images?.[0]?.key):null,[e]),_=h||N||!e,x=()=>{const c={product:{id:o,name:e?.name,image:p,price:e?.sellPrice,description:e?.description},quantity:1};t(T(c)),w.success("Thêm vào giỏ thành công!")},f=!!(e?.shopeeUrl&&e.shopeeUrl.trim());return s.jsx(s.Fragment,{children:_?s.jsx("div",{className:"container-fluid",children:s.jsxs("div",{className:"page_product_detail",children:[s.jsx("div",{className:"product_img",children:s.jsx("div",{style:{width:"100%",height:320,background:"#e9ecef"}})}),s.jsxs("div",{className:"product_body",children:[s.jsxs("div",{className:"product_content",children:[s.jsx(a,{as:"p",animation:"glow",className:"content",children:s.jsx(a,{xs:6})}),s.jsx(a,{as:"p",animation:"glow",className:"content_price",children:s.jsx(a,{xs:4})}),s.jsxs(a,{as:"p",animation:"glow",className:"content_des",children:[s.jsx(a,{xs:8})," ",s.jsx(a,{xs:7})," ",s.jsx(a,{xs:6})]}),s.jsx("div",{className:"btn_mobile_cart",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:2})})})]}),s.jsxs("div",{className:"option_detail",children:[s.jsx("div",{className:"btn_buy",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})}),s.jsx("div",{className:"btn_buy",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})}),s.jsx("div",{className:"btn_shopee",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})})]})]})]})}):s.jsxs("div",{className:"container-fluid",children:[s.jsx(y,{autoClose:1e3}),s.jsxs(n,{children:[s.jsx(n.Item,{href:"/",children:"Trang chủ"}),s.jsx(n.Item,{href:"/",children:"Sản phẩm"}),s.jsx(n.Item,{active:!0,children:e?.name})]}),s.jsxs("div",{className:"page_product_detail",children:[s.jsx("div",{className:"product_img",children:s.jsx(P.LazyLoadImage,{effect:"blur",src:p||i.logo,placeholderSrc:i.logo,alt:"product",onError:c=>{c?.target&&(c.target.src=i.logo)}})}),s.jsxs("div",{className:"product_body",children:[s.jsxs("div",{className:"product_content",children:[s.jsxs("h1",{className:"product-title",children:[e?.name,f&&s.jsx("span",{className:"shopee-inline",onClick:()=>d.push(e?.shopeeUrl),role:"link","aria-label":"Mua trên Shopee",children:s.jsx("img",{src:i.shopee,alt:"shopee"})})]}),s.jsxs("p",{className:"content_price",children:[M(e?.sellPrice||0),"đ/",e?.unit]}),s.jsx("div",{id:"btn_cart",onClick:()=>{x(),d.push(j.main.cart)},className:"btn_mobile_cart",children:s.jsx("p",{children:"Mua ngay"})})]}),s.jsxs("div",{className:"option_detail",children:[s.jsxs("div",{className:"btn_buy",onClick:()=>x(),children:[s.jsx("img",{src:i.icCart,width:35,alt:"add to cart",style:{marginRight:10}}),s.jsx("span",{children:"Thêm vào giỏ hàng"})]}),s.jsx("div",{className:"btn_buy",onClick:()=>{x(),d.push(j.main.cart)},children:s.jsx("span",{children:"Mua ngay"})})]}),s.jsx("p",{className:"content_des",style:{marginTop:16},children:e?.description})]})]})]})})}function G(){const{id:t}=g(),{data:e}=v({id:t},{skip:!t}),l=`${e?.name||"Product"} - ${E.appName}`;return s.jsxs(s.Fragment,{children:[s.jsx(C,{children:s.jsx("title",{children:l})}),s.jsx(S,{})]})}export{G as default};
