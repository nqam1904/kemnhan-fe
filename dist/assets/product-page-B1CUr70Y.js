import{r as t,g as U,f as p,d as A,j as e,Q as F,I as i,c as L,h as D,H as E,i as T}from"./index-CvJx62Zl.js";import{f as $}from"./format-number-DeezL_hy.js";import{b as M}from"./index-CaOnp5oM.js";function R(s){const[c,x]=t.useState(""),[j,f]=t.useState(""),[d,S]=t.useState(""),[v,N]=t.useState(""),[H]=t.useState(0),[z,b]=t.useState(!1),[B,_]=t.useState(!1),[G,O]=t.useState([]),[l,C]=t.useState(0),[r,w]=t.useState(null),[Q,I]=t.useState([]),[J]=t.useState(0),[K]=t.useState(""),[y,u]=t.useState(!0),m=t.useCallback(()=>{const a=new URLSearchParams(window.location.search),g={};return a.forEach((P,k)=>{g[k]=P}),g},[]),n=t.useMemo(()=>m().id,[m]),h=t.useCallback(()=>{U.get(`${p.serverUrl}/products/${n}`).then(a=>{x(a.data.name),f(a.data.unit),S(a.data.description),N(a.data.shopeeUrl),C(a.data.sellPrice),b(a.data.isActive),_(a.data.isFeature),w(A(`static/${a.data.images[0].key}`)),I(a.data.images),u(!1)}).catch(a=>{u(!1)})},[n]);t.useEffect(()=>{h()},[h]);const o=()=>{const a={product:{id:n,name:c,image:r,price:l,description:d},quantity:1};s==null||s.actAddToCart(a),L.success("Thêm vào giỏ thành công!")};return e.jsx(e.Fragment,{children:y?e.jsx("div",{className:"loading",children:"Loading"}):e.jsxs("div",{className:"container-fluid",children:[e.jsx(F,{autoClose:1e3}),e.jsxs("div",{className:"page_product_detail",children:[e.jsx("div",{className:"product_img",children:e.jsx(M.LazyLoadImage,{effect:"blur",src:r,placeholderSrc:i.logo,alt:"product"})}),e.jsxs("div",{className:"product_body",children:[e.jsxs("div",{className:"product_content",children:[e.jsx("p",{className:"content",children:c}),e.jsxs("p",{className:"content_price",children:[$(l),"đ/",j]}),e.jsx("p",{className:"content_des",children:d}),e.jsxs("div",{id:"btn_cart",onClick:()=>{o(),window.location.href="/gio-hang"},className:"btn_mobile_cart",children:[e.jsx("img",{src:i.icCart,width:35,alt:"add to cart"}),e.jsx("p",{children:"Mua ngay"})]})]}),e.jsxs("div",{className:"option_detail",children:[e.jsxs("div",{className:"btn_buy",onClick:()=>o(),children:[e.jsx("img",{src:i.icCart,width:35,alt:"add to cart"}),e.jsx("span",{children:"Thêm vào giỏ hàng"})]}),e.jsx("div",{className:"btn_buy",onClick:()=>{o(),window.location.href="/gio-hang"},children:e.jsx("span",{children:"Mua ngay"})}),e.jsxs("div",{className:"btn_shopee",onClick:()=>window.open(v,"_blank"),children:[e.jsx("img",{src:i.shopee,width:40,alt:"shopee"}),e.jsx("span",{style:{marginLeft:10},children:"Shopee"})]})]})]})]})]})})}const q={title:`Product - ${p.appName}`};function Y(){const s=D();return e.jsxs(e.Fragment,{children:[e.jsx(E,{children:e.jsxs("title",{children:[" ",q.title]})}),e.jsx(R,{actAddToCart:c=>s(T(c))})]})}export{Y as default};
