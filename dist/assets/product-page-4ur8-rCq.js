import{f as _,g as p,r as b,j as s,h as a,Q as y,I as n,i as w,c as C,d as I,H as P}from"./index-CGSQnQu3.js";import{f as k}from"./format-number-DeezL_hy.js";import{r as c,f as u}from"./vendor-D10guwLI.js";import{b as T}from"./index-BDLNoMlA.js";import{B as l}from"./Breadcrumb-D1fabbY-.js";function E(){const t=_(),[e,r]=c.useState(null),{id:x}=u(),d=c.useMemo(()=>x,[x]),{data:o,isFetching:m,isLoading:f}=p({id:d},{skip:!d});c.useEffect(()=>{!m&&o&&r(o)},[o,m]);const j=c.useMemo(()=>{var i,g;return e?b((g=(i=e.images)==null?void 0:i[0])==null?void 0:g.key):null},[e]),v=m||f||!e,h=()=>{const i={product:{id:d,name:e==null?void 0:e.name,image:j,price:e==null?void 0:e.sellPrice,description:e==null?void 0:e.description},quantity:1};t(w(i)),C.success("Thêm vào giỏ thành công!")},N=!!(e!=null&&e.shopeeUrl&&e.shopeeUrl.trim());return s.jsx(s.Fragment,{children:v?s.jsx("div",{className:"container-fluid",children:s.jsxs("div",{className:"page_product_detail",children:[s.jsx("div",{className:"product_img",children:s.jsx("div",{style:{width:"100%",height:320,background:"#e9ecef"}})}),s.jsxs("div",{className:"product_body",children:[s.jsxs("div",{className:"product_content",children:[s.jsx(a,{as:"p",animation:"glow",className:"content",children:s.jsx(a,{xs:6})}),s.jsx(a,{as:"p",animation:"glow",className:"content_price",children:s.jsx(a,{xs:4})}),s.jsxs(a,{as:"p",animation:"glow",className:"content_des",children:[s.jsx(a,{xs:8})," ",s.jsx(a,{xs:7})," ",s.jsx(a,{xs:6})]}),s.jsx("div",{className:"btn_mobile_cart",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:2})})})]}),s.jsxs("div",{className:"option_detail",children:[s.jsx("div",{className:"btn_buy",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})}),s.jsx("div",{className:"btn_buy",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})}),s.jsx("div",{className:"btn_shopee",style:{cursor:"default"},children:s.jsx(a,{as:"div",animation:"glow",children:s.jsx(a,{xs:3})})})]})]})]})}):s.jsxs("div",{className:"container-fluid",children:[s.jsx(y,{autoClose:1e3}),s.jsxs(l,{children:[s.jsx(l.Item,{href:"/",children:"Trang chủ"}),s.jsx(l.Item,{href:"/",children:"Sản phẩm"}),s.jsx(l.Item,{active:!0,children:e==null?void 0:e.name})]}),s.jsxs("div",{className:"page_product_detail",children:[s.jsx("div",{className:"product_img",children:s.jsx(T.LazyLoadImage,{effect:"blur",src:j||n.logo,placeholderSrc:n.logo,alt:"product",onError:i=>{i!=null&&i.target&&(i.target.src=n.logo)}})}),s.jsxs("div",{className:"product_body",children:[s.jsxs("div",{className:"product_content",children:[s.jsx("h1",{className:"product-title",children:e==null?void 0:e.name}),s.jsxs("p",{className:"content_price",children:[k((e==null?void 0:e.sellPrice)||0),"đ/",e==null?void 0:e.unit]}),s.jsxs("div",{id:"btn_cart",onClick:()=>{h(),window.location.href="/gio-hang"},className:"btn_mobile_cart",children:[s.jsx("img",{src:n.icCart,width:35,alt:"add to cart"}),s.jsx("p",{children:"Mua ngay"})]})]}),s.jsxs("div",{className:"option_detail",children:[s.jsxs("div",{className:"btn_buy",onClick:()=>h(),children:[s.jsx("img",{src:n.icCart,width:35,alt:"add to cart"}),s.jsx("span",{children:"Thêm vào giỏ hàng"})]}),s.jsx("div",{className:"btn_buy",onClick:()=>{h(),window.location.href="/gio-hang"},children:s.jsx("span",{children:"Mua ngay"})}),N&&s.jsxs("div",{className:"btn_shopee",onClick:()=>window.open(e==null?void 0:e.shopeeUrl,"_blank"),children:[s.jsx("img",{src:n.shopee,width:40,alt:"shopee"}),s.jsx("span",{style:{marginLeft:10},children:"Shopee"})]})]}),s.jsx("p",{className:"content_des",style:{marginTop:16},children:e==null?void 0:e.description})]})]})]})})}function B(){const{id:t}=u(),{data:e}=p({id:t},{skip:!t}),r=`${(e==null?void 0:e.name)||"Product"} - ${I.appName}`;return s.jsxs(s.Fragment,{children:[s.jsx(P,{children:s.jsx("title",{children:r})}),s.jsx(E,{})]})}export{B as default};
