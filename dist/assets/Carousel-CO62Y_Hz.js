import{l as F,j as o,m as j,w as De,x as Me,y as $e,z as ae,D as Ae,A as oe,T as Le,E as Oe}from"./index-CGSQnQu3.js";import{r as t}from"./vendor-D10guwLI.js";import{u as _e}from"./Modal-uUVsHhbb.js";import{f as Xe,m as le}from"./ElementChildren-DQADstU7.js";function He(s,r){const l=t.useRef(!0);t.useEffect(()=>{if(l.current){l.current=!1;return}return s()},r)}function Pe(){const s=t.useRef(!0),r=t.useRef(()=>s.current);return t.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),r.current}const W=2**31-1;function ue(s,r,l){const c=l-Date.now();s.current=c<=W?setTimeout(r,c):setTimeout(()=>ue(s,r,l),W)}function Ue(){const s=Pe(),r=t.useRef();return _e(()=>clearTimeout(r.current)),t.useMemo(()=>{const l=()=>clearTimeout(r.current);function c(h,u=0){s()&&(l(),u<=W?r.current=setTimeout(h,u):ue(r,h,Date.now()+u))}return{set:c,clear:l,handleRef:r}},[])}const ce=t.forwardRef(({className:s,bsPrefix:r,as:l="div",...c},h)=>(r=F(r,"carousel-caption"),o.jsx(l,{ref:h,className:j(s,r),...c})));ce.displayName="CarouselCaption";const ie=t.forwardRef(({as:s="div",bsPrefix:r,className:l,...c},h)=>{const u=j(l,F(r,"carousel-item"));return o.jsx(s,{ref:h,...c,className:u})});ie.displayName="CarouselItem";const We=40;function Fe(s){if(!s||!s.style||!s.parentNode||!s.parentNode.style)return!1;const r=getComputedStyle(s);return r.display!=="none"&&r.visibility!=="hidden"&&getComputedStyle(s.parentNode).display!=="none"}const de=t.forwardRef(({defaultActiveIndex:s=0,...r},l)=>{const{as:c="div",bsPrefix:h,slide:u=!0,fade:fe=!1,controls:me=!0,indicators:D=!0,indicatorLabels:M=[],activeIndex:p,onSelect:v,onSlide:y,onSlid:S,interval:T=5e3,keyboard:K=!0,onKeyDown:$,pause:N="hover",onMouseOver:A,onMouseOut:L,wrap:I=!0,touch:B=!0,onTouchStart:O,onTouchMove:_,onTouchEnd:X,prevIcon:he=o.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:V="Previous",nextIcon:pe=o.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:z="Next",variant:Y,className:ve,children:H,...xe}=De({defaultActiveIndex:s,...r},{activeIndex:"onSelect"}),f=F(h,"carousel"),R=Me(),E=t.useRef(null),[q,G]=t.useState("next"),[Ce,w]=t.useState(!1),[b,J]=t.useState(!1),[a,Ne]=t.useState(p||0);t.useEffect(()=>{!b&&p!==a&&(E.current?G(E.current):G((p||0)>a?"next":"prev"),u&&J(!0),Ne(p||0))},[p,b,a,u]),t.useEffect(()=>{E.current&&(E.current=null)});let x=0,Q;Xe(H,(e,n)=>{++x,n===p&&(Q=e.props.interval)});const Z=$e(Q),i=t.useCallback(e=>{if(b)return;let n=a-1;if(n<0){if(!I)return;n=x-1}E.current="prev",v==null||v(n,e)},[b,a,v,I,x]),d=ae(e=>{if(b)return;let n=a+1;if(n>=x){if(!I)return;n=0}E.current="next",v==null||v(n,e)}),P=t.useRef();t.useImperativeHandle(l,()=>({element:P.current,prev:i,next:d}));const ee=ae(()=>{!document.hidden&&Fe(P.current)&&(R?i():d())}),C=q==="next"?"start":"end";He(()=>{u||(y==null||y(a,C),S==null||S(a,C))},[a]);const Re=`${f}-item-${q}`,Ee=`${f}-item-${C}`,be=t.useCallback(e=>{Ae(e),y==null||y(a,C)},[y,a,C]),ye=t.useCallback(()=>{J(!1),S==null||S(a,C)},[S,a,C]),Se=t.useCallback(e=>{if(K&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),R?d(e):i(e);return;case"ArrowRight":e.preventDefault(),R?i(e):d(e);return}$==null||$(e)},[K,$,i,d,R]),Te=t.useCallback(e=>{N==="hover"&&w(!0),A==null||A(e)},[N,A]),Ie=t.useCallback(e=>{w(!1),L==null||L(e)},[L]),te=t.useRef(0),k=t.useRef(0),ne=Ue(),ge=t.useCallback(e=>{te.current=e.touches[0].clientX,k.current=0,N==="hover"&&w(!0),O==null||O(e)},[N,O]),je=t.useCallback(e=>{e.touches&&e.touches.length>1?k.current=0:k.current=e.touches[0].clientX-te.current,_==null||_(e)},[_]),we=t.useCallback(e=>{if(B){const n=k.current;Math.abs(n)>We&&(n>0?i(e):d(e))}N==="hover"&&ne.set(()=>{w(!1)},T||void 0),X==null||X(e)},[B,N,i,d,ne,T,X]),se=T!=null&&!Ce&&!b,U=t.useRef();t.useEffect(()=>{var e,n;if(!se)return;const m=R?i:d;return U.current=window.setInterval(document.visibilityState?ee:m,(e=(n=Z.current)!=null?n:T)!=null?e:void 0),()=>{U.current!==null&&clearInterval(U.current)}},[se,i,d,Z,T,ee,R]);const re=t.useMemo(()=>D&&Array.from({length:x},(e,n)=>m=>{v==null||v(n,m)}),[D,x,v]);return o.jsxs(c,{ref:P,...xe,onKeyDown:Se,onMouseOver:Te,onMouseOut:Ie,onTouchStart:ge,onTouchMove:je,onTouchEnd:we,className:j(ve,f,u&&"slide",fe&&`${f}-fade`,Y&&`${f}-${Y}`),children:[D&&o.jsx("div",{className:`${f}-indicators`,children:le(H,(e,n)=>o.jsx("button",{type:"button","data-bs-target":"","aria-label":M!=null&&M.length?M[n]:`Slide ${n+1}`,className:n===a?"active":void 0,onClick:re?re[n]:void 0,"aria-current":n===a},n))}),o.jsx("div",{className:`${f}-inner`,children:le(H,(e,n)=>{const m=n===a;return u?o.jsx(Le,{in:m,onEnter:m?be:void 0,onEntered:m?ye:void 0,addEndListener:Oe,children:(g,ke)=>t.cloneElement(e,{...ke,className:j(e.props.className,m&&g!=="entered"&&Re,(g==="entered"||g==="exiting")&&"active",(g==="entering"||g==="exiting")&&Ee)})}):t.cloneElement(e,{className:j(e.props.className,m&&"active")})})}),me&&o.jsxs(o.Fragment,{children:[(I||p!==0)&&o.jsxs(oe,{className:`${f}-control-prev`,onClick:i,children:[he,V&&o.jsx("span",{className:"visually-hidden",children:V})]}),(I||p!==x-1)&&o.jsxs(oe,{className:`${f}-control-next`,onClick:d,children:[pe,z&&o.jsx("span",{className:"visually-hidden",children:z})]})]})]})});de.displayName="Carousel";const Ye=Object.assign(de,{Caption:ce,Item:ie});export{Ye as C};
