import{r as t,g as m,f as c,c as a,j as e,Q as S,B as x,H as y}from"./index-CvJx62Zl.js";import{e as M}from"./index.es-JOJxY1ZJ.js";import{C as k}from"./index-BGV0FIID.js";import{c as $}from"./styles-Bw6Lb06x.js";import{M as r}from"./Modal-DBHGt8c5.js";import"./useWillUnmount-CLlPHptt.js";const B=()=>{const[p,g]=t.useState([]),[f,n]=t.useState(!1),[j,C]=t.useState(""),[l,u]=t.useState(""),[d,h]=t.useState(""),o=t.useCallback(()=>{m.get(`${c.serverUrl}/settings`).then(s=>{g(s.data||[])}).catch(s=>{a.error("Có lỗi xảy ra")})},[]);t.useEffect(()=>{o()},[o]),t.useCallback(s=>{m.get(`${c.serverUrl}/settings/${s}`).then(i=>{h(s),n(!0),C("Cập nhật danh mục"),u(i.data.value||"")}).catch(i=>a.error("Có lỗi xảy ra"))},[]);const b=t.useCallback(s=>{if(s.preventDefault(),l===""){a.warning("Vui lòng điền thông tin!");return}d&&m.put(`${c.serverUrl}/settings/${d}`,{value:l}).then(i=>{n(!1),u(""),h(""),a.success("Cập nhật thành công!"),o()}).catch(i=>a.error("Có lỗi xảy ra"))},[o,d,l]),v=t.useMemo(()=>[{name:"#",selector:"id",sortable:!0},{name:"Thông báo",selector:"value",sortable:!0}],[]);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mt-10",children:" Cài đặt thông báo"}),e.jsx(S,{autoClose:1e3}),e.jsx(M,{title:"",columns:v,data:p,defaultSortFieldId:"title",pagination:!0,responsive:!0,dense:!0,customStyles:$}),e.jsx(r,{show:f,onHide:()=>{n(!1)},backdrop:"static",children:e.jsxs("form",{onSubmit:b,children:[e.jsx(r.Header,{closeButton:!0,children:e.jsxs(r.Title,{children:[" ",j," "]})}),e.jsxs(r.Body,{children:[e.jsx("label",{children:" Link youtube "}),e.jsx(k,{className:"form-control",type:"text",name:"value",value:l,onChange:s=>u(s.target.value)})]}),e.jsxs(r.Footer,{children:[e.jsx(x,{variant:"secondary",type:"button",onClick:()=>{n(!1)},children:"Đóng"}),e.jsx(x,{variant:"primary",type:"submit",children:"Lưu"})]})]})})]})},F={title:`Cài đặt - ${c.appName}`};function E(){return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsxs("title",{children:[" ",F.title]})}),e.jsx(B,{})]})}export{E as default};
