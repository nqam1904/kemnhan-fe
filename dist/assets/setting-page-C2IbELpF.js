import{L as h,e as g,c as l,j as e,B as u,Q as v,H as M,d as k}from"./index-Cisqq87o.js";import{e as w}from"./index.es-3P-hqikk.js";import{C as B}from"./index-8_4KzXG3.js";import{c as F}from"./styles-Bw6Lb06x.js";import{r as s}from"./vendor-D10guwLI.js";import{M as a}from"./Modal-BE1P8Ww6.js";const I=()=>{const[p,x]=s.useState([]),[f,d]=s.useState(!1),[j,n]=s.useState(!1),[b,C]=s.useState(""),[r,i]=s.useState(""),[c,m]=s.useState(""),o=s.useCallback(()=>{d(!0),h.get(g.main.settings).then(t=>{x(t.data||[])}).catch(t=>{l.error("Có lỗi xảy ra")}).finally(()=>d(!1))},[]);s.useEffect(()=>{o()},[o]);const S=s.useCallback(t=>{if(t.preventDefault(),r===""){l.warning("Vui lòng điền thông tin!");return}c&&h.put(`${g.main.settings}/${c}`,{value:r}).then(()=>{n(!1),i(""),m(""),l.success("Cập nhật thành công!"),o()}).catch(H=>l.error("Có lỗi xảy ra"))},[o,c,r]),y=s.useMemo(()=>[{name:"#",selector:"id",sortable:!0},{name:"Thông báo",selector:"value",sortable:!0},{name:"Chức năng",selector:t=>t.id,cell:t=>e.jsx(u,{type:"button",className:"btn btn-warning white",onClick:()=>{m(String(t.id)),i(String(t.value||"")),C("Cập nhật thông báo"),n(!0)},children:"Sửa"})}],[]);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mt-10",children:" Cài đặt thông báo"}),e.jsx(v,{autoClose:1e3}),e.jsx(w,{title:"",columns:y,data:p,defaultSortFieldId:"title",progressPending:f,pagination:!0,responsive:!0,dense:!0,customStyles:F}),e.jsx(a,{show:j,onHide:()=>{n(!1)},backdrop:"static",children:e.jsxs("form",{onSubmit:S,children:[e.jsx(a.Header,{closeButton:!0,children:e.jsxs(a.Title,{children:[" ",b," "]})}),e.jsxs(a.Body,{children:[e.jsx("label",{children:" Link youtube "}),e.jsx(B,{className:"form-control",type:"text",name:"value",value:r,onChange:t=>i(t.target.value)})]}),e.jsxs(a.Footer,{children:[e.jsx(u,{variant:"secondary",type:"button",onClick:()=>{n(!1)},children:"Đóng"}),e.jsx(u,{variant:"primary",type:"submit",children:"Lưu"})]})]})})]})},N={title:`Cài đặt - ${k.appName}`};function V(){return e.jsxs(e.Fragment,{children:[e.jsx(M,{children:e.jsxs("title",{children:[" ",N.title]})}),e.jsx(I,{})]})}export{V as default};
