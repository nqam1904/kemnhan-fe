import{r as s,v as i,j as t,s as u,Q as v,X as M,M as a,w as k}from"./vendor-react-D439mYZB.js";import{n as h,e as p,C as w}from"./index-CCO37Pg2.js";import{C as F}from"./index-Cno6cLFA.js";import{c as I}from"./styles-Bw6Lb06x.js";import"./vendor-misc-BkUckcGj.js";import"./vendor-redux-CY9rYXZh.js";import"./vendor-ui-qtF25uBn.js";import"./vendor-utils-DifT8CeW.js";const N=()=>{const[g,x]=s.useState([]),[f,d]=s.useState(!1),[j,n]=s.useState(!1),[b,C]=s.useState(""),[r,l]=s.useState(""),[c,m]=s.useState(""),o=s.useCallback(()=>{d(!0),h.get(p.main.settings).then(e=>{x(e.data||[])}).catch(e=>{i.error("Có lỗi xảy ra")}).finally(()=>d(!1))},[]);s.useEffect(()=>{o()},[o]);const S=s.useCallback(e=>{if(e.preventDefault(),r===""){i.warning("Vui lòng điền thông tin!");return}c&&h.put(`${p.main.settings}/${c}`,{value:r}).then(()=>{n(!1),l(""),m(""),i.success("Cập nhật thành công!"),o()}).catch(T=>i.error("Có lỗi xảy ra"))},[o,c,r]),y=s.useMemo(()=>[{name:"#",selector:"id",sortable:!0},{name:"Thông báo",selector:"value",sortable:!0},{name:"Chức năng",selector:e=>e.id,cell:e=>t.jsx(u,{type:"button",className:"btn btn-warning white",onClick:()=>{m(String(e.id)),l(String(e.value||"")),C("Cập nhật thông báo"),n(!0)},children:"Sửa"})}],[]);return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"mt-10",children:" Cài đặt thông báo"}),t.jsx(v,{autoClose:1e3}),t.jsx(M,{title:"",columns:y,data:g,defaultSortFieldId:"title",progressPending:f,pagination:!0,responsive:!0,dense:!0,customStyles:I}),t.jsx(a,{show:j,onHide:()=>{n(!1)},backdrop:"static",children:t.jsxs("form",{onSubmit:S,children:[t.jsx(a.Header,{closeButton:!0,children:t.jsxs(a.Title,{children:[" ",b," "]})}),t.jsxs(a.Body,{children:[t.jsx("label",{children:" Link youtube "}),t.jsx(F,{className:"form-control",type:"text",name:"value",value:r,onChange:e=>l(e.target.value)})]}),t.jsxs(a.Footer,{children:[t.jsx(u,{variant:"secondary",type:"button",onClick:()=>{n(!1)},children:"Đóng"}),t.jsx(u,{variant:"primary",type:"submit",children:"Lưu"})]})]})})]})},B={title:`Cài đặt - ${w.appName}`};function _(){return t.jsxs(t.Fragment,{children:[t.jsx(k,{children:t.jsxs("title",{children:[" ",B.title]})}),t.jsx(N,{})]})}export{_ as default};
